---
layout: post
title: Installation de Glassfish sur Ubuntu
date: 2007-09-18
comments: false
categories : [archives]
tags: []
---

<h3 class="western" lang="fr-FR">Ressources nécessaires</h3> <p class="western" style="margin-bottom: 0in;" lang="fr-FR">Pour l’installation, il est nécessaire d’avoir les repositories suivants dans le fichier /etc/apt/sources.list :</p>           <p style="border: 1px solid rgb(0, 0, 0); padding: 0.01in 0.06in; margin-bottom: 0in;" lang="en-GB"> <span style="font-family:Courier New, monospace;"><span style="font-size:85%;">#depots officiels<br />deb http://archive.ubuntu.com/ubuntu/ feisty main restricted universe multiverse<br />deb http://archive.ubuntu.com/ubuntu/ feisty-security main restricted universe multiverse<br />deb http://archive.ubuntu.com/ubuntu/ feisty-updates main restricted universe multiverse<br />deb-src http://archive.ubuntu.com/ubuntu/ feisty-updates main restricted universe multiverse<br /><br />#commercial<br />deb http://archive.canonical.com/ feisty-commercial main<br /><br />#medibuntu<br /># deb http://fr.packages.medibuntu.org/ feisty free non-free</span></span></p> <p class="western" style="margin-bottom: 0in;" lang="en-GB"><br /></p> <p class="western" style="margin-bottom: 0in;" lang="fr-FR">Après avoir ajouté les lignes précédentes, mettez à jour votre linux :</p> <p style="border: 1px solid rgb(0, 0, 0); padding: 0.01in 0.06in; margin-bottom: 0in;" lang="en-GB"> <span style="font-family:Courier New, monospace;"><span style="font-size:85%;">apt-get update</span></span></p> <p style="border: 1px solid rgb(0, 0, 0); padding: 0.01in 0.06in; margin-bottom: 0in;" lang="en-GB"> <span style="font-family:Courier New, monospace;"><span style="font-size:85%;">apt-get upgrade</span></span></p> <p class="western" style="margin-bottom: 0in;" lang="fr-FR"><br /></p> <p class="western" style="margin-bottom: 0in;" lang="fr-FR">Installez ensuite le jdk6 de Java :</p> <p style="border: 1px solid rgb(0, 0, 0); padding: 0.01in 0.06in; margin-bottom: 0in;" lang="en-GB"> <span style="font-family:Courier New, monospace;"><span style="font-size:85%;">apt-get install sun-java6-jdk sun-java6-fonts sun-java6-source</span></span></p> <p class="western" style="margin-bottom: 0in;" lang="fr-FR"><br /></p> <p class="western" style="margin-bottom: 0in;" lang="fr-FR">Vérifiez la bonne installation en tapant :</p> <p style="border: 1px solid rgb(0, 0, 0); padding: 0.01in 0.06in; margin-bottom: 0in;" lang="fr-FR"> <span style="font-family:Courier New, monospace;"><span style="font-size:85%;">Java –version</span></span></p> <p class="western" style="margin-bottom: 0in;" lang="fr-FR">Qui devrait vous répondre java version 1.6.xxx</p> <p class="western" style="margin-bottom: 0in;" lang="fr-FR"><br /></p> <p class="western" style="margin-bottom: 0in;" lang="fr-FR">Téléchargement de Glassfish :</p> <p style="border: 1px solid rgb(0, 0, 0); padding: 0.01in 0.06in; margin-bottom: 0in;" lang="en-GB"> <span style="font-family:Courier New, monospace;"><span style="font-size:85%;">Wget <span style="color:#0000ff;"><u><a href="http://java.net/download/javaee5/promoted/Linux/glassfish-installer-v2-b58.jar">http://java.net/download/javaee5/promoted/Linux/glassfish-installer-v2-b58.jar</a></u></span></span></span></p> <h3 class="western" lang="fr-FR">Installation</h3> <p class="western" style="margin-bottom: 0in;" lang="fr-FR">Lancez la commande suivante :</p> <p style="border: 1px solid rgb(0, 0, 0); padding: 0.01in 0.06in; margin-bottom: 0in;" lang="en-GB"> <span style="font-family:Courier New, monospace;"><span style="font-size:85%;"><span lang="fr-FR">java –jar –mx256M glassfish-installer-v2-b58.jar</span></span></span></p> <p class="western" style="margin-bottom: 0in;" lang="fr-FR"><br /></p> <p class="western" style="margin-bottom: 0in;" lang="fr-FR">On déplace l’installation vers un endroit plus approprié :</p> <p style="border: 1px solid rgb(0, 0, 0); padding: 0.01in 0.06in; margin-bottom: 0in;" lang="en-GB"> <span style="font-family:Courier New, monospace;"><span style="font-size:85%;">mv glassfish /opt/glassfish</span></span></p> <p class="western" style="margin-bottom: 0in;" lang="fr-FR"><br /></p> <p class="western" style="margin-bottom: 0in;" lang="en-GB">On lance le setup :</p>   <p style="border: 1px solid rgb(0, 0, 0); padding: 0.01in 0.06in; margin-bottom: 0in;" lang="en-GB"> <span style="font-family:Courier New, monospace;"><span style="font-size:85%;">cd /opt/glassfish<br />chmod 777 /opt/glassfish/lib/ant/bin/*<br />/opt/glassfish/lib/ant/bin/ant –f setup.xml</span></span></p> <p class="western" style="margin-bottom: 0in;" lang="fr-FR"><br /></p> <p class="western" style="margin-bottom: 0in;" lang="fr-FR"><br /></p> <p class="western" style="margin-bottom: 0in;" lang="fr-FR">Installer les librairies nécessaires dans le répertoire /opt/glassfish/lib. Pour vous connecter à distance au serveur, vous pouvez utiliser FileZila. Les librairies sont :</p> <ul>  <li><p style="margin-bottom: 0in;" align="justify" lang="fr-FR"><b>mysql-connector-java-5.0.6-bin.jar</b></p>  </li><li><p style="margin-bottom: 0in;" align="justify" lang="fr-FR"><b>itext-2.0.4.jar</b></p>  </li><li><p style="margin-bottom: 0in;" align="justify" lang="fr-FR"><b>jdom.jar</b></p>  </li><li><p style="margin-bottom: 0in;" align="justify" lang="fr-FR"><b>commons-logging.jar</b></p>  </li><li><p style="margin-bottom: 0in;" align="justify" lang="fr-FR"><b>commons-modeler.jar</b></p>  </li><li><p style="margin-bottom: 0in;" align="justify" lang="fr-FR"><b>tomcat-ajp.jar</b></p> </li></ul>Démarrez le serveur et modifiez le password admin (l’ancien password vous sera demandé, c’est adminadmin) :   <p style="border: 1px solid rgb(0, 0, 0); padding: 0.01in 0.06in; margin-bottom: 0in;" lang="en-GB"> <span style="font-family:Courier New, monospace;"><span style="font-size:85%;">/opt/glassfish/bin/asadmin start-domain<br />/opt/glassfish/bin/asadmin change-admin-password –user admin<br />/opt/glassfish/bin/asadmin stop-domain</span></span></p> <p class="western" style="margin-bottom: 0in;" lang="fr-FR"><br /></p> <p class="western" style="margin-bottom: 0in;" lang="fr-FR">Pour lancer glassfish comme un service copiez le fichier glassfish (de l’archive) vers le répertoire /etc/init.d/ et si nécessaire modifiez les chemins d’accès (si vous n’avez pas utilisé le même que ce lui de ce tutoriel). Il a été créé à partir du fichier /etc/init.d/skeleton. Pour l’installer utilisez la commande suivante :</p> <p style="border: 1px solid rgb(0, 0, 0); padding: 0.01in 0.06in; margin-bottom: 0in;" lang="fr-FR"> <span style="font-family:Courier New, monospace;"><span style="font-size:85%;">update-rc.d glassfish defaults</span></span></p> <p class="western" style="margin-bottom: 0in;" lang="fr-FR"><br /></p> <p class="western" style="margin-bottom: 0in;" lang="fr-FR">Glassfish est fonctionnel, pour l’utiliser voici les commandes essentielles :</p>  <p style="border: 1px solid rgb(0, 0, 0); padding: 0.01in 0.06in; margin-bottom: 0in;" lang="en-GB"> <span style="font-family:Courier New, monospace;"><span style="font-size:85%;">/opt/glassfish/bin/asadmin start-domain<br />/opt/glassfish/bin/asadmin stop-domain</span></span></p> <p class="western" style="margin-bottom: 0in;" lang="fr-FR"><br /></p> <p class="western" style="margin-bottom: 0in;" lang="fr-FR">Pour le configurer, vous devez vous connecter à la machine sur le port 4848 avec un navigateur web.</p> <p class="western" style="margin-bottom: 0in;" lang="fr-FR">La gestion des ports écoutés se fait dans configuration -&gt; http-service.</p> <p class="western" style="margin-bottom: 0in;" lang="fr-FR"><br /></p> <p class="western" style="margin-bottom: 0in;" lang="fr-FR">Pour installer le module sur le serveur, cliquez sur Web-Applications puis sur deploy. Indiquez l’adresse de l’archive war du module. Vous pouvez configurer le contexte d’exploitation (par défaut : /cp). Demandez une précompilation des jsp pour accélérer le temps de réponse des pages dynamiques</p> <p class="western" style="margin-bottom: 0in;" lang="fr-FR">Pour tester demandez la page <span style="color:#0000ff;"><u><a href="http://adresseduserveur:8080/cp/">http://adresseduserveur:8080/cp/</a></u></span> </p>